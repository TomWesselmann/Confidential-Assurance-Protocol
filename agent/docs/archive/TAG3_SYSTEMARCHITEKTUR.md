# ğŸ—ï¸ LkSG Proof Agent â€“ Tag 3 Systemarchitektur

**Version:** 0.3.0 (Tag 3 â€“ Proof & Verifier Layer)
**Datum:** 2025-10-25
**Status:** MVP Complete âœ…

---

## ğŸ“‹ Inhaltsverzeichnis

1. [Gesamtarchitektur](#gesamtarchitektur)
2. [Schichtenmodell](#schichtenmodell)
3. [Modul-Ãœbersicht](#modul-Ã¼bersicht)
4. [Datenfluss-Diagramme](#datenfluss-diagramme)
5. [Kryptographische Pipeline](#kryptographische-pipeline)
6. [CLI-Kommando-Flow](#cli-kommando-flow)
7. [Datei-AbhÃ¤ngigkeiten](#datei-abhÃ¤ngigkeiten)
8. [Proof-Verifikations-Architektur](#proof-verifikations-architektur)

---

## ğŸ›ï¸ Gesamtarchitektur

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LkSG Proof Agent v0.3.0                         â”‚
â”‚           Offline Compliance Proof System (Tag 1+2+3)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          INPUT LAYER                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚   CSV Data  â”‚  â”‚    Policy    â”‚  â”‚    Keys    â”‚               â”‚
â”‚  â”‚             â”‚  â”‚   (YAML/JSON)â”‚  â”‚ (Ed25519)  â”‚               â”‚
â”‚  â”‚ â€¢ Suppliers â”‚  â”‚              â”‚  â”‚            â”‚               â”‚
â”‚  â”‚ â€¢ UBOs      â”‚  â”‚ â€¢ lksg.v1    â”‚  â”‚ â€¢ Private  â”‚               â”‚
â”‚  â”‚             â”‚  â”‚ â€¢ Constraintsâ”‚  â”‚ â€¢ Public   â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚         â”‚                â”‚                 â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚                 â”‚
          â–¼                â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COMMITMENT ENGINE (Tag 1)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  io.rs â€“ CSV Parser                                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚ â”‚
â”‚  â”‚  â”‚   Suppliers   â”‚          â”‚      UBOs     â”‚               â”‚ â”‚
â”‚  â”‚  â”‚  (name, jur.) â”‚          â”‚ (name, birth) â”‚               â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚             â”‚                          â”‚                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  commitment.rs â€“ BLAKE3 Merkle Root Computation             â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  hash_record(data) â†’ BLAKE3(data)                           â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  compute_supplier_root([S1, S2, ...]) â†’ Root_S              â”‚ â”‚
â”‚  â”‚  compute_ubo_root([U1, U2, ...])      â†’ Root_U              â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  Root_Company = BLAKE3(Root_S || Root_U)                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚             â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  audit.rs â€“ SHA3-256 Hash Chain                             â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  Event(t, type, prev_digest, payload)                       â”‚ â”‚
â”‚  â”‚  digest = SHA3-256(prev || t || type || payload)            â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  Chain: E0 â†’ E1 â†’ E2 â†’ ... â†’ En (Tail Digest)               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚             â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ commitments.json  â”‚ â† OUTPUT (Tag 1)
      â”‚ â€¢ supplier_root   â”‚
      â”‚ â€¢ ubo_root        â”‚
      â”‚ â€¢ company_root    â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       POLICY LAYER (Tag 2)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  policy.rs â€“ Policy Validator                                â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  load(policy.yml) â†’ Policy { version, constraints, ... }    â”‚ â”‚
â”‚  â”‚  validate(policy) â†’ OK / ERROR                              â”‚ â”‚
â”‚  â”‚  policy_hash = SHA3-256(policy_json)                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚             â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  manifest.rs â€“ Manifest Builder                             â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  build(commitments, policy, audit) â†’ Manifest               â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  Manifest {                                                 â”‚ â”‚
â”‚  â”‚    version, created_at,                                     â”‚ â”‚
â”‚  â”‚    supplier_root, ubo_root, company_root,                   â”‚ â”‚
â”‚  â”‚    policy: { name, version, hash },                         â”‚ â”‚
â”‚  â”‚    audit: { tail_digest, events_count },                    â”‚ â”‚
â”‚  â”‚    proof: { type, status },                                 â”‚ â”‚
â”‚  â”‚    signatures: []                                           â”‚ â”‚
â”‚  â”‚  }                                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚             â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  sign.rs â€“ Ed25519 Digital Signature                        â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  generate_keypair() â†’ (private.key, public.key)             â”‚ â”‚
â”‚  â”‚  sign_manifest(manifest, privkey) â†’ signature               â”‚ â”‚
â”‚  â”‚  verify_signature(signature, pubkey) â†’ OK / FAIL            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚             â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  manifest.json    â”‚ â† OUTPUT (Tag 2)
      â”‚  signature.json   â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PROOF ENGINE (Tag 3) â˜… NEW â˜…                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  proof_engine.rs â€“ Proof Builder & Verifier                 â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
â”‚  â”‚  â”‚  Proof::build()                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  Input:                            â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Policy (Constraints)            â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Manifest (Commitments)          â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Supplier Count                  â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ UBO Count                       â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  Process:                          â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  1. Check: require_at_least_one_uboâ”‚                     â”‚ â”‚
â”‚  â”‚  â”‚     â†’ ubo_count >= 1 ? âœ… : âŒ     â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  2. Check: supplier_count_max      â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚     â†’ supplier_count <= max ? âœ…:âŒâ”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  3. manifest_hash = SHA3(manifest) â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  4. status = all_checks_ok ?       â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚              "ok" : "failed"       â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  Output: Proof Object              â”‚                     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
â”‚  â”‚  â”‚  Proof::verify()                   â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  1. manifest_hash_proof ==         â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚     SHA3(manifest) ?               â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  2. policy_hash_proof ==           â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚     manifest.policy.hash ?         â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  3. proof.status == "ok" ?         â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  4. all constraints.ok == true ?   â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â†’ OK / FAIL                       â”‚                     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
â”‚  â”‚  â”‚  save_as_dat() / load_from_dat()   â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  Proof Object (JSON)               â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚        â†“                           â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  Base64 Encode                     â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚        â†“                           â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  proof.dat                         â”‚                     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
â”‚  â”‚  â”‚  export_proof_package()            â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  Creates:                          â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ manifest.json                   â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ proof.dat                       â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ signature.json (optional)       â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ README.txt                      â”‚                     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚             â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚   proof.dat       â”‚ â† OUTPUT (Tag 3)
      â”‚   proof.json      â”‚
      â”‚   proof_package/  â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      VERIFIER (Tag 3) â˜… NEW â˜…                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  verifier.rs â€“ Offline Proof Package Verifier               â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
â”‚  â”‚  â”‚  Verifier::new(package_dir)        â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  Reads:                            â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ manifest.json                   â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ proof.dat                       â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ signature.json (optional)       â”‚                     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
â”‚  â”‚  â”‚  verify()                          â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  1. Load manifest.json             â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  2. Load proof.dat (Base64 decode)â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  3. proof.verify(manifest)         â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  4. Count passed/total checks      â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â†’ VerificationResult {            â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚      success: true/false,          â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚      manifest_hash,                â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚      policy_hash,                  â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚      proof_status,                 â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚      checks_passed,                â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚      checks_total                  â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚    }                               â”‚                     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
â”‚  â”‚  â”‚  check_package_integrity()         â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  âœ“ manifest.json exists?           â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  âœ“ proof.dat exists?               â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  âœ“ signature.json exists? (opt.)   â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â†’ "Proof-Paket vollstÃ¤ndig" / ERR â”‚                     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
â”‚  â”‚  â”‚  show_package_summary()            â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚                                    â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  Displays:                         â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Manifest metadata               â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Policy info                     â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Proof info                      â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Constraint checks (âœ…/âŒ)       â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Audit trail summary             â”‚                     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ Verification      â”‚ â† OUTPUT (Verifier)
      â”‚ Results (Console) â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Schichtenmodell

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 5: CLI Interface (main.rs)                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Commands: prepare, policy, manifest, proof,        â”‚ â”‚
â”‚ â”‚           sign, verifier, inspect, version         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 4: Proof & Verification (Tag 3)                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ proof_engine.rs: Proof building & verification     â”‚ â”‚
â”‚ â”‚ verifier.rs: Package integrity & extraction        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 3: Policy & Signing (Tag 2)                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ policy.rs: Policy validation & hashing             â”‚ â”‚
â”‚ â”‚ manifest.rs: Manifest building                     â”‚ â”‚
â”‚ â”‚ sign.rs: Ed25519 signing & verification            â”‚ â”‚
â”‚ â”‚ proof_mock.rs: Legacy mock proofs (deprecated)     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 2: Commitment Engine (Tag 1)                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ commitment.rs: BLAKE3 Merkle roots                 â”‚ â”‚
â”‚ â”‚ audit.rs: SHA3-256 hash chain                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 1: Data I/O (Tag 1)                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ io.rs: CSV parsing (Suppliers, UBOs)               â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 0: External Dependencies                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ blake3, sha3, ed25519-dalek, serde, clap, csv,     â”‚ â”‚
â”‚ â”‚ base64, chrono, hex                                â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Modul-Ãœbersicht

### Tag 1 Module (Commitment Engine)

| Modul | Zeilen | Funktionen | Output |
|-------|--------|------------|--------|
| `io.rs` | 90 | CSV-Parsing (Suppliers, UBOs) | `Vec<Supplier>`, `Vec<Ubo>` |
| `commitment.rs` | 150 | BLAKE3 Merkle Roots | `CommitmentResult` |
| `audit.rs` | 120 | SHA3-256 Hash Chain | `agent.audit.jsonl` |

### Tag 2 Module (Policy Layer)

| Modul | Zeilen | Funktionen | Output |
|-------|--------|------------|--------|
| `policy.rs` | 180 | Policy Validation, SHA3 Hash | `Policy`, `policy_hash` |
| `manifest.rs` | 200 | Manifest Building | `manifest.json` |
| `sign.rs` | 140 | Ed25519 Sign/Verify | `signature.json`, `keys/` |
| `proof_mock.rs` | 160 | Mock Proofs (deprecated) | - |

### Tag 3 Module (Proof & Verifier Layer) â˜… NEW â˜…

| Modul | Zeilen | Funktionen | Output |
|-------|--------|------------|--------|
| `proof_engine.rs` | 392 | Proof Build, Verify, Export | `proof.dat`, `proof.json`, `proof_package/` |
| `verifier.rs` | 283 | Package Verification, Extraction | Console output |
| `main.rs` | 729 | CLI Routing (16 commands) | - |

**Gesamt:** ~2200 Zeilen Rust Code (ohne Tests)

---

## ğŸ”„ Datenfluss-Diagramme

### End-to-End Pipeline (10 Schritte)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     INPUT FILES                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ examples/suppliers.csv                                          â”‚
â”‚ examples/ubos.csv                                               â”‚
â”‚ examples/policy.lksg.v1.yml                                     â”‚
â”‚ keys/company.ed25519 (generated in step 6)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: prepare                                                 â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                â”‚
â”‚ cargo run -- prepare --suppliers examples/suppliers.csv \       â”‚
â”‚                      --ubos examples/ubos.csv                   â”‚
â”‚                                                                 â”‚
â”‚ Process:                                                        â”‚
â”‚ â€¢ Read CSV files (io.rs)                                        â”‚
â”‚ â€¢ Compute BLAKE3 Merkle roots (commitment.rs)                   â”‚
â”‚ â€¢ Log "commitments_generated" event (audit.rs)                  â”‚
â”‚                                                                 â”‚
â”‚ Output:                                                         â”‚
â”‚ âœ“ build/commitments.json                                        â”‚
â”‚ âœ“ build/agent.audit.jsonl (Event #1)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: policy validate                                         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                        â”‚
â”‚ cargo run -- policy validate --file examples/policy.lksg.v1.yml â”‚
â”‚                                                                 â”‚
â”‚ Process:                                                        â”‚
â”‚ â€¢ Load YAML policy (policy.rs)                                  â”‚
â”‚ â€¢ Validate schema (version, constraints)                        â”‚
â”‚ â€¢ Compute SHA3-256 policy hash                                  â”‚
â”‚ â€¢ Log "policy_validated" event                                  â”‚
â”‚                                                                 â”‚
â”‚ Output:                                                         â”‚
â”‚ âœ“ Policy hash: 0x...                                            â”‚
â”‚ âœ“ build/agent.audit.jsonl (Event #2)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: manifest build                                          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                         â”‚
â”‚ cargo run -- manifest build --policy examples/policy.lksg.v1.ymlâ”‚
â”‚                                                                 â”‚
â”‚ Process:                                                        â”‚
â”‚ â€¢ Load commitments.json                                         â”‚
â”‚ â€¢ Load policy.yml                                               â”‚
â”‚ â€¢ Load audit tail digest                                        â”‚
â”‚ â€¢ Build manifest (manifest.rs)                                  â”‚
â”‚ â€¢ Log "manifest_created" event                                  â”‚
â”‚                                                                 â”‚
â”‚ Output:                                                         â”‚
â”‚ âœ“ build/manifest.json                                           â”‚
â”‚ âœ“ build/agent.audit.jsonl (Event #3)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: proof build â˜… TAG 3 â˜…                                   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                         â”‚
â”‚ cargo run -- proof build --manifest build/manifest.json \       â”‚
â”‚                          --policy examples/policy.lksg.v1.yml   â”‚
â”‚                                                                 â”‚
â”‚ Process:                                                        â”‚
â”‚ â€¢ Load manifest.json                                            â”‚
â”‚ â€¢ Load policy.yml                                               â”‚
â”‚ â€¢ Load commitments.json (for counts)                            â”‚
â”‚ â€¢ Build proof (proof_engine.rs):                                â”‚
â”‚   - Check constraint: require_at_least_one_ubo                  â”‚
â”‚   - Check constraint: supplier_count_max                        â”‚
â”‚   - Compute manifest_hash = SHA3(manifest)                      â”‚
â”‚   - Set status = "ok" if all checks pass                        â”‚
â”‚ â€¢ Serialize to JSON                                             â”‚
â”‚ â€¢ Encode to Base64 â†’ proof.dat                                  â”‚
â”‚ â€¢ Log "proof_built" event                                       â”‚
â”‚                                                                 â”‚
â”‚ Output:                                                         â”‚
â”‚ âœ“ build/proof.dat (Base64-encoded)                              â”‚
â”‚ âœ“ build/proof.json (readable)                                   â”‚
â”‚ âœ“ build/agent.audit.jsonl (Event #4)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 5: proof verify â˜… TAG 3 â˜…                                  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                        â”‚
â”‚ cargo run -- proof verify --proof build/proof.dat \             â”‚
â”‚                           --manifest build/manifest.json        â”‚
â”‚                                                                 â”‚
â”‚ Process:                                                        â”‚
â”‚ â€¢ Load proof.dat â†’ decode Base64 â†’ parse JSON                   â”‚
â”‚ â€¢ Load manifest.json                                            â”‚
â”‚ â€¢ Verify (proof_engine.rs):                                     â”‚
â”‚   âœ“ manifest_hash matches SHA3(manifest)                        â”‚
â”‚   âœ“ policy_hash matches manifest.policy.hash                    â”‚
â”‚   âœ“ proof.status == "ok"                                        â”‚
â”‚   âœ“ all constraints.ok == true                                 â”‚
â”‚ â€¢ Log "proof_verified" event                                    â”‚
â”‚                                                                 â”‚
â”‚ Output:                                                         â”‚
â”‚ âœ“ Console: "Proof ist gÃ¼ltig!"                                  â”‚
â”‚ âœ“ build/agent.audit.jsonl (Event #5)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 6: sign keygen + sign manifest                             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                            â”‚
â”‚ cargo run -- sign keygen --dir keys                             â”‚
â”‚ cargo run -- sign manifest --manifest-in build/manifest.json \  â”‚
â”‚                            --key keys/company.ed25519 \         â”‚
â”‚                            --out build/signature.json           â”‚
â”‚                                                                 â”‚
â”‚ Process:                                                        â”‚
â”‚ â€¢ Generate Ed25519 keypair (sign.rs)                            â”‚
â”‚ â€¢ Compute manifest_hash = SHA3(manifest)                        â”‚
â”‚ â€¢ Sign manifest_hash with private key                           â”‚
â”‚ â€¢ Save signature + metadata                                     â”‚
â”‚ â€¢ Log "manifest_signed" event                                   â”‚
â”‚                                                                 â”‚
â”‚ Output:                                                         â”‚
â”‚ âœ“ keys/company.ed25519 (private key)                            â”‚
â”‚ âœ“ keys/company.pub (public key)                                 â”‚
â”‚ âœ“ build/signature.json                                          â”‚
â”‚ âœ“ build/agent.audit.jsonl (Events #6, #7)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 7: proof export â˜… TAG 3 â˜…                                  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                        â”‚
â”‚ cargo run -- proof export --manifest build/manifest.json \      â”‚
â”‚                           --proof build/proof.dat \             â”‚
â”‚                           --out build/proof_package             â”‚
â”‚                                                                 â”‚
â”‚ Process:                                                        â”‚
â”‚ â€¢ Create directory: build/proof_package/                        â”‚
â”‚ â€¢ Copy manifest.json â†’ proof_package/                           â”‚
â”‚ â€¢ Copy proof.dat â†’ proof_package/                               â”‚
â”‚ â€¢ Copy signature.json â†’ proof_package/ (if exists)              â”‚
â”‚ â€¢ Generate README.txt with verification instructions            â”‚
â”‚ â€¢ Log "proof_exported" event                                    â”‚
â”‚                                                                 â”‚
â”‚ Output:                                                         â”‚
â”‚ âœ“ build/proof_package/                                          â”‚
â”‚   â”œâ”€â”€ manifest.json                                             â”‚
â”‚   â”œâ”€â”€ proof.dat                                                 â”‚
â”‚   â””â”€â”€ README.txt                                                â”‚
â”‚ âœ“ build/agent.audit.jsonl (Event #8)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 8: verifier run â˜… TAG 3 â˜…                                  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                       â”‚
â”‚ cargo run -- verifier run --package build/proof_package         â”‚
â”‚                                                                 â”‚
â”‚ Process:                                                        â”‚
â”‚ â€¢ Check package integrity (verifier.rs):                        â”‚
â”‚   âœ“ manifest.json exists                                        â”‚
â”‚   âœ“ proof.dat exists                                            â”‚
â”‚   âœ“ signature.json exists (optional)                            â”‚
â”‚ â€¢ Load manifest from package                                    â”‚
â”‚ â€¢ Load proof from package (decode Base64)                       â”‚
â”‚ â€¢ Verify proof against manifest (calls proof_engine::verify)    â”‚
â”‚ â€¢ Count checks passed/total                                     â”‚
â”‚ â€¢ Log "verifier_run" event                                      â”‚
â”‚                                                                 â”‚
â”‚ Output:                                                         â”‚
â”‚ âœ“ Console: VerificationResult {                                 â”‚
â”‚     success: true,                                              â”‚
â”‚     manifest_hash: "0x...",                                     â”‚
â”‚     policy_hash: "0x...",                                       â”‚
â”‚     proof_status: "ok",                                         â”‚
â”‚     checks_passed: 2,                                           â”‚
â”‚     checks_total: 2                                             â”‚
â”‚   }                                                             â”‚
â”‚ âœ“ build/agent.audit.jsonl (Event #9)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 9: verifier extract â˜… TAG 3 â˜…                              â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                   â”‚
â”‚ cargo run -- verifier extract --package build/proof_package     â”‚
â”‚                                                                 â”‚
â”‚ Process:                                                        â”‚
â”‚ â€¢ Extract manifest from package                                 â”‚
â”‚ â€¢ Extract proof from package                                    â”‚
â”‚ â€¢ Generate formatted summary (verifier.rs):                     â”‚
â”‚   - Manifest metadata (version, created_at, roots)              â”‚
â”‚   - Policy info (name, version, hash)                           â”‚
â”‚   - Audit info (events_count, tail_digest)                      â”‚
â”‚   - Proof info (version, type, statement, status)               â”‚
â”‚   - Constraint checks list (âœ… require_at_least_one_ubo, etc.)  â”‚
â”‚ â€¢ Log "verifier_extract" event                                  â”‚
â”‚                                                                 â”‚
â”‚ Output:                                                         â”‚
â”‚ âœ“ Console: Formatted summary (see below)                        â”‚
â”‚ âœ“ build/agent.audit.jsonl (Event #10)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 10: verifier audit â˜… TAG 3 â˜…                               â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                  â”‚
â”‚ cargo run -- verifier audit --package build/proof_package       â”‚
â”‚                                                                 â”‚
â”‚ Process:                                                        â”‚
â”‚ â€¢ Extract audit info from manifest                              â”‚
â”‚ â€¢ Display:                                                      â”‚
â”‚   - Total events count                                          â”‚
â”‚   - Tail digest (SHA3-256 hash chain end)                       â”‚
â”‚ â€¢ Log "verifier_audit" event                                    â”‚
â”‚                                                                 â”‚
â”‚ Output:                                                         â”‚
â”‚ âœ“ Console:                                                      â”‚
â”‚   ğŸ“Š Audit-Trail:                                               â”‚
â”‚     Events gesamt: 20                                           â”‚
â”‚     Tail Digest: 0xe5b87d8f...                                  â”‚
â”‚ âœ“ build/agent.audit.jsonl (Event #11)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Kryptographische Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  CRYPTOGRAPHIC OPERATIONS                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. COMMITMENT PHASE (Tag 1)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Supplier Data         UBO Data                                 â”‚
â”‚      â”‚                    â”‚                                     â”‚
â”‚      â–¼                    â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚ BLAKE3  â”‚         â”‚ BLAKE3  â”‚                               â”‚
â”‚  â”‚  Hash   â”‚         â”‚  Hash   â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                               â”‚
â”‚       â”‚                   â”‚                                     â”‚
â”‚       â–¼                   â–¼                                     â”‚
â”‚  [H1, H2, ...]       [H1, H2]                                   â”‚
â”‚       â”‚                   â”‚                                     â”‚
â”‚       â–¼                   â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚ Merkle  â”‚         â”‚ Merkle  â”‚                               â”‚
â”‚  â”‚  Tree   â”‚         â”‚  Tree   â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                               â”‚
â”‚       â”‚                   â”‚                                     â”‚
â”‚       â–¼                   â–¼                                     â”‚
â”‚   Root_S              Root_U                                    â”‚
â”‚       â”‚                   â”‚                                     â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                â–¼                                                â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚         â”‚   BLAKE3     â”‚                                        â”‚
â”‚         â”‚ (Root_S ||   â”‚                                        â”‚
â”‚         â”‚  Root_U)     â”‚                                        â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                â–¼                                                â”‚
â”‚         Company_Root                                            â”‚
â”‚            0x83a877...                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. AUDIT CHAIN PHASE (Tag 1)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Event_0: session_start                                         â”‚
â”‚     â”‚                                                           â”‚
â”‚     â–¼                                                           â”‚
â”‚  SHA3-256(prev=0x0 || timestamp || "session_start" || {})      â”‚
â”‚     â”‚                                                           â”‚
â”‚     â–¼                                                           â”‚
â”‚  digest_0 = 0xa1b2c3...                                         â”‚
â”‚     â”‚                                                           â”‚
â”‚     â–¼                                                           â”‚
â”‚  Event_1: commitments_generated                                 â”‚
â”‚     â”‚                                                           â”‚
â”‚     â–¼                                                           â”‚
â”‚  SHA3-256(prev=digest_0 || timestamp || "commitments_..." || {...})â”‚
â”‚     â”‚                                                           â”‚
â”‚     â–¼                                                           â”‚
â”‚  digest_1 = 0xd4e5f6...                                         â”‚
â”‚     â”‚                                                           â”‚
â”‚     ... (chain continues) ...                                   â”‚
â”‚     â”‚                                                           â”‚
â”‚     â–¼                                                           â”‚
â”‚  tail_digest = 0xe5b87d8f...   (after 20 events)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. POLICY HASH PHASE (Tag 2)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  policy.lksg.v1.yml                                             â”‚
â”‚     â”‚                                                           â”‚
â”‚     â–¼                                                           â”‚
â”‚  JSON serialization (canonical)                                 â”‚
â”‚     â”‚                                                           â”‚
â”‚     â–¼                                                           â”‚
â”‚  SHA3-256(policy_json)                                          â”‚
â”‚     â”‚                                                           â”‚
â”‚     â–¼                                                           â”‚
â”‚  policy_hash = 0xd490be94...                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. MANIFEST HASH PHASE (Tag 3)                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  manifest.json                                                  â”‚
â”‚     â”‚                                                           â”‚
â”‚     â–¼                                                           â”‚
â”‚  JSON serialization (canonical)                                 â”‚
â”‚     â”‚                                                           â”‚
â”‚     â–¼                                                           â”‚
â”‚  SHA3-256(manifest_json)                                        â”‚
â”‚     â”‚                                                           â”‚
â”‚     â–¼                                                           â”‚
â”‚  manifest_hash = 0x9712ff65...                                  â”‚
â”‚     â”‚                                                           â”‚
â”‚     â–¼                                                           â”‚
â”‚  (Included in Proof Object)                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. PROOF VERIFICATION PHASE (Tag 3)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Proof Object:                                                  â”‚
â”‚  {                                                              â”‚
â”‚    manifest_hash: "0x9712ff65...",                              â”‚
â”‚    policy_hash: "0xd490be94...",                                â”‚
â”‚    checked_constraints: [                                       â”‚
â”‚      {name: "require_at_least_one_ubo", ok: true},              â”‚
â”‚      {name: "supplier_count_max_10", ok: true}                  â”‚
â”‚    ],                                                           â”‚
â”‚    status: "ok"                                                 â”‚
â”‚  }                                                              â”‚
â”‚                                                                 â”‚
â”‚  Verification Steps:                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚ 1. SHA3(manifest) == proof.manifest_hash?                   â”‚
â”‚  â”‚    0x9712ff65... == 0x9712ff65... âœ“                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                 â”‚                                               â”‚
â”‚                 â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚ 2. manifest.policy.hash == proof.policy_hash?               â”‚
â”‚  â”‚    0xd490be94... == 0xd490be94... âœ“                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                 â”‚                                               â”‚
â”‚                 â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚ 3. proof.status == "ok"?                                    â”‚
â”‚  â”‚    "ok" == "ok" âœ“                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                 â”‚                                               â”‚
â”‚                 â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚ 4. All constraints.ok == true?                              â”‚
â”‚  â”‚    [true, true] â†’ all true âœ“                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                 â”‚                                               â”‚
â”‚                 â–¼                                               â”‚
â”‚            VERIFIED âœ…                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. SIGNATURE PHASE (Tag 2)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Ed25519 Keypair Generation:                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚ RNG â†’ (privkey, pubkey)      â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  Save: company.ed25519, company.pub                             â”‚
â”‚                                                                 â”‚
â”‚  Signing:                                                       â”‚
â”‚  manifest_hash = SHA3(manifest)                                 â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  signature = Ed25519_Sign(manifest_hash, privkey)               â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  Save: signature.json {                                         â”‚
â”‚    manifest_hash: "0x...",                                      â”‚
â”‚    signature: "0x...",                                          â”‚
â”‚    signer_pubkey: "0x..."                                       â”‚
â”‚  }                                                              â”‚
â”‚                                                                 â”‚
â”‚  Verification:                                                  â”‚
â”‚  Ed25519_Verify(signature, manifest_hash, pubkey) â†’ âœ“/âœ—         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ CLI-Kommando-Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CLI COMMAND TREE                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

cap-agent
â”‚
â”œâ”€â”€ prepare                    (Tag 1)
â”‚   â””â”€â”€ --suppliers <CSV> --ubos <CSV>
â”‚       â†’ build/commitments.json
â”‚
â”œâ”€â”€ inspect                    (Tag 1)
â”‚   â””â”€â”€ --file <commitments.json>
â”‚       â†’ Console output
â”‚
â”œâ”€â”€ version                    (Tag 1)
â”‚   â†’ "cap-agent v0.3.0"
â”‚
â”œâ”€â”€ policy                     (Tag 2)
â”‚   â”œâ”€â”€ validate
â”‚   â”‚   â””â”€â”€ --file <policy.yml>
â”‚   â”‚       â†’ Policy hash
â”‚   â””â”€â”€ show
â”‚       â””â”€â”€ --file <policy.yml>
â”‚           â†’ Policy details
â”‚
â”œâ”€â”€ manifest                   (Tag 2)
â”‚   â””â”€â”€ build
â”‚       â””â”€â”€ --policy <policy.yml> [--out <path>]
â”‚           â†’ build/manifest.json
â”‚
â”œâ”€â”€ proof                      (Tag 2 + Tag 3)
â”‚   â”œâ”€â”€ build                  â˜… TAG 3 â˜…
â”‚   â”‚   â””â”€â”€ --manifest <manifest.json> --policy <policy.yml>
â”‚   â”‚       â†’ build/proof.dat, build/proof.json
â”‚   â”‚
â”‚   â”œâ”€â”€ verify                 â˜… TAG 3 â˜…
â”‚   â”‚   â””â”€â”€ --proof <proof.dat> --manifest <manifest.json>
â”‚   â”‚       â†’ Verification result
â”‚   â”‚
â”‚   â””â”€â”€ export                 â˜… TAG 3 â˜…
â”‚       â””â”€â”€ --manifest <manifest.json> --proof <proof.dat> --out <dir>
â”‚           â†’ proof_package/
â”‚
â”œâ”€â”€ sign                       (Tag 2)
â”‚   â”œâ”€â”€ keygen
â”‚   â”‚   â””â”€â”€ [--dir <path>]
â”‚   â”‚       â†’ company.ed25519, company.pub
â”‚   â”‚
â”‚   â”œâ”€â”€ manifest
â”‚   â”‚   â””â”€â”€ --manifest-in <manifest.json> --key <privkey> --out <signature.json>
â”‚   â”‚       â†’ signature.json
â”‚   â”‚
â”‚   â””â”€â”€ verify
â”‚       â””â”€â”€ --signature <signature.json> --key <pubkey>
â”‚           â†’ Verification result
â”‚
â””â”€â”€ verifier                   â˜… TAG 3 â˜…
    â”œâ”€â”€ run
    â”‚   â””â”€â”€ --package <proof_package/>
    â”‚       â†’ VerificationResult
    â”‚
    â”œâ”€â”€ extract
    â”‚   â””â”€â”€ --package <proof_package/>
    â”‚       â†’ Package summary
    â”‚
    â””â”€â”€ audit
        â””â”€â”€ --package <proof_package/>
            â†’ Audit trail info
```

---

## ğŸ“ Datei-AbhÃ¤ngigkeiten

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  FILE DEPENDENCY GRAPH                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

INPUT FILES (examples/)
â”œâ”€â”€ suppliers.csv
â”œâ”€â”€ ubos.csv
â””â”€â”€ policy.lksg.v1.yml

                â”‚
                â–¼

BUILD FILES (build/)
â”œâ”€â”€ commitments.json          â† prepare
â”‚   â””â”€â”€ (used by manifest build)
â”‚
â”œâ”€â”€ manifest.json             â† manifest build
â”‚   â”œâ”€â”€ (used by proof build)
â”‚   â”œâ”€â”€ (used by proof verify)
â”‚   â”œâ”€â”€ (used by sign manifest)
â”‚   â””â”€â”€ (used by proof export)
â”‚
â”œâ”€â”€ proof.dat                 â† proof build
â”‚   â”œâ”€â”€ (used by proof verify)
â”‚   â””â”€â”€ (used by proof export)
â”‚
â”œâ”€â”€ proof.json                â† proof build
â”‚   â””â”€â”€ (human-readable version)
â”‚
â”œâ”€â”€ signature.json            â† sign manifest
â”‚   â””â”€â”€ (optional for proof export)
â”‚
â”œâ”€â”€ agent.audit.jsonl         â† all commands
â”‚   â””â”€â”€ (continuous append-only log)
â”‚
â””â”€â”€ proof_package/            â† proof export
    â”œâ”€â”€ manifest.json         (copy of build/manifest.json)
    â”œâ”€â”€ proof.dat             (copy of build/proof.dat)
    â”œâ”€â”€ signature.json        (copy if exists)
    â””â”€â”€ README.txt            (generated)
        â””â”€â”€ (used by verifier run/extract/audit)

KEYS FILES (keys/)
â”œâ”€â”€ company.ed25519           â† sign keygen
â”‚   â””â”€â”€ (used by sign manifest)
â””â”€â”€ company.pub               â† sign keygen
    â””â”€â”€ (used by sign verify)
```

---

## ğŸ” Proof-Verifikations-Architektur

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           PROOF VERIFICATION ARCHITECTURE (Tag 3)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROOF PACKAGE STRUCTURE                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  proof_package/                                                 â”‚
â”‚  â”‚                                                              â”‚
â”‚  â”œâ”€â”€ manifest.json                                              â”‚
â”‚  â”‚   â”œâ”€â”€ version: "manifest.v0"                                 â”‚
â”‚  â”‚   â”œâ”€â”€ created_at: "2025-10-25T..."                           â”‚
â”‚  â”‚   â”œâ”€â”€ supplier_root: "0x..."                                 â”‚
â”‚  â”‚   â”œâ”€â”€ ubo_root: "0x..."                                      â”‚
â”‚  â”‚   â”œâ”€â”€ company_commitment_root: "0x..."                       â”‚
â”‚  â”‚   â”œâ”€â”€ policy: {                                              â”‚
â”‚  â”‚   â”‚     name: "LkSG Demo Policy",                            â”‚
â”‚  â”‚   â”‚     version: "lksg.v1",                                  â”‚
â”‚  â”‚   â”‚     hash: "0x..."                                        â”‚
â”‚  â”‚   â”‚   }                                                      â”‚
â”‚  â”‚   â”œâ”€â”€ audit: {                                               â”‚
â”‚  â”‚   â”‚     tail_digest: "0x...",                                â”‚
â”‚  â”‚   â”‚     events_count: 20                                     â”‚
â”‚  â”‚   â”‚   }                                                      â”‚
â”‚  â”‚   â””â”€â”€ signatures: []                                         â”‚
â”‚  â”‚                                                              â”‚
â”‚  â”œâ”€â”€ proof.dat (Base64-encoded)                                 â”‚
â”‚  â”‚   Decoded:                                                   â”‚
â”‚  â”‚   {                                                          â”‚
â”‚  â”‚     version: "proof.v0",                                     â”‚
â”‚  â”‚     type: "mock",                                            â”‚
â”‚  â”‚     statement: "policy:lksg.v1",                             â”‚
â”‚  â”‚     manifest_hash: "0x9712ff65...",                          â”‚
â”‚  â”‚     policy_hash: "0xd490be94...",                            â”‚
â”‚  â”‚     proof_data: {                                            â”‚
â”‚  â”‚       checked_constraints: [                                 â”‚
â”‚  â”‚         {name: "require_at_least_one_ubo", ok: true},        â”‚
â”‚  â”‚         {name: "supplier_count_max_10", ok: true}            â”‚
â”‚  â”‚       ]                                                      â”‚
â”‚  â”‚     },                                                       â”‚
â”‚  â”‚     status: "ok"                                             â”‚
â”‚  â”‚   }                                                          â”‚
â”‚  â”‚                                                              â”‚
â”‚  â””â”€â”€ README.txt                                                 â”‚
â”‚      â””â”€â”€ Verification instructions                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VERIFICATION WORKFLOW                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ verifier run --package proof_package/    â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                     â”‚                                           â”‚
â”‚                     â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ 1. Package Integrity Check               â”‚                  â”‚
â”‚  â”‚    âœ“ manifest.json exists?               â”‚                  â”‚
â”‚  â”‚    âœ“ proof.dat exists?                   â”‚                  â”‚
â”‚  â”‚    âœ“ signature.json exists? (optional)   â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                     â”‚                                           â”‚
â”‚                     â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ 2. Load Manifest                         â”‚                  â”‚
â”‚  â”‚    manifest = JSON.parse(manifest.json)  â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                     â”‚                                           â”‚
â”‚                     â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ 3. Load Proof                            â”‚                  â”‚
â”‚  â”‚    encoded = read(proof.dat)             â”‚                  â”‚
â”‚  â”‚    decoded = Base64.decode(encoded)      â”‚                  â”‚
â”‚  â”‚    proof = JSON.parse(decoded)           â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                     â”‚                                           â”‚
â”‚                     â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ 4. Verify Proof                          â”‚                  â”‚
â”‚  â”‚    proof.verify(manifest)                â”‚                  â”‚
â”‚  â”‚                                          â”‚                  â”‚
â”‚  â”‚    a) Manifest Hash Check                â”‚                  â”‚
â”‚  â”‚       computed = SHA3(manifest)          â”‚                  â”‚
â”‚  â”‚       proof.manifest_hash == computed?   â”‚                  â”‚
â”‚  â”‚       âœ“ Match                            â”‚                  â”‚
â”‚  â”‚                                          â”‚                  â”‚
â”‚  â”‚    b) Policy Hash Check                  â”‚                  â”‚
â”‚  â”‚       proof.policy_hash ==               â”‚                  â”‚
â”‚  â”‚       manifest.policy.hash?              â”‚                  â”‚
â”‚  â”‚       âœ“ Match                            â”‚                  â”‚
â”‚  â”‚                                          â”‚                  â”‚
â”‚  â”‚    c) Status Check                       â”‚                  â”‚
â”‚  â”‚       proof.status == "ok"?              â”‚                  â”‚
â”‚  â”‚       âœ“ OK                               â”‚                  â”‚
â”‚  â”‚                                          â”‚                  â”‚
â”‚  â”‚    d) Constraint Checks                  â”‚                  â”‚
â”‚  â”‚       All constraints.ok == true?        â”‚                  â”‚
â”‚  â”‚       âœ“ require_at_least_one_ubo: true   â”‚                  â”‚
â”‚  â”‚       âœ“ supplier_count_max_10: true      â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                     â”‚                                           â”‚
â”‚                     â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ 5. Count Checks                          â”‚                  â”‚
â”‚  â”‚    checks_total = 2                      â”‚                  â”‚
â”‚  â”‚    checks_passed = 2                     â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                     â”‚                                           â”‚
â”‚                     â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ 6. Return VerificationResult             â”‚                  â”‚
â”‚  â”‚    {                                     â”‚                  â”‚
â”‚  â”‚      success: true,                      â”‚                  â”‚
â”‚  â”‚      manifest_hash: "0x9712ff65...",     â”‚                  â”‚
â”‚  â”‚      policy_hash: "0xd490be94...",       â”‚                  â”‚
â”‚  â”‚      proof_status: "ok",                 â”‚                  â”‚
â”‚  â”‚      checks_passed: 2,                   â”‚                  â”‚
â”‚  â”‚      checks_total: 2                     â”‚                  â”‚
â”‚  â”‚    }                                     â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                     â”‚                                           â”‚
â”‚                     â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ 7. Display Results                       â”‚                  â”‚
â”‚  â”‚    âœ… Verifikation erfolgreich!          â”‚                  â”‚
â”‚  â”‚    Manifest Hash: 0x9712ff65...          â”‚                  â”‚
â”‚  â”‚    Policy Hash: 0xd490be94...            â”‚                  â”‚
â”‚  â”‚    Proof Status: ok                      â”‚                  â”‚
â”‚  â”‚    Checks: 2/2                           â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Test-Coverage-Matrix

| Layer | Module | Unit Tests | Integration Tests | Status |
|-------|--------|------------|-------------------|--------|
| **Tag 1** | io.rs | 2 âœ… | prepare | âœ… |
| **Tag 1** | commitment.rs | 3 âœ… | prepare | âœ… |
| **Tag 1** | audit.rs | 3 âœ… | all commands | âœ… |
| **Tag 2** | policy.rs | 4 âœ… | policy validate | âœ… |
| **Tag 2** | manifest.rs | 2 âœ… | manifest build | âœ… |
| **Tag 2** | sign.rs | 3 âœ… | sign keygen/manifest/verify | âœ… |
| **Tag 2** | proof_mock.rs | 3 âœ… | (deprecated) | âš ï¸ |
| **Tag 3** | proof_engine.rs | 3 âœ… | proof build/verify/export | âœ… |
| **Tag 3** | verifier.rs | 3 âœ… | verifier run/extract/audit | âœ… |

**Total:** 26 Unit Tests âœ… | 10 Integration Tests âœ…

---

## ğŸš€ Performance & Sicherheit

### Performance-Charakteristik

| Operation | Complexity | Durchschnitt |
|-----------|-----------|--------------|
| BLAKE3 Hash | O(n) | < 1ms / record |
| SHA3-256 Hash | O(n) | < 1ms / operation |
| Merkle Root | O(n log n) | < 10ms / 1000 records |
| Ed25519 Sign | O(1) | < 1ms |
| Ed25519 Verify | O(1) | < 1ms |
| Base64 Encode/Decode | O(n) | < 1ms |
| Full Pipeline | O(n log n) | < 100ms (5 suppliers, 2 UBOs) |

### Sicherheits-Features

| Feature | Implementierung | Status |
|---------|----------------|--------|
| Collision-resistant hashing | BLAKE3, SHA3-256 | âœ… |
| Cryptographic signatures | Ed25519 (Curve25519) | âœ… |
| Tamper-evident audit log | Hash chain (SHA3-256) | âœ… |
| Offline operation | No network access | âœ… |
| Deterministic outputs | Fixed random seeds avoided | âœ… |
| Proof integrity | Multi-hash verification | âœ… |

---

## ğŸ“ Zusammenfassung

### Tag 3 Implementierung (Proof & Verifier Layer)

**Neue Komponenten:**
- âœ… `proof_engine.rs` â€“ Proof-Building & Verification Engine
- âœ… `verifier.rs` â€“ Offline Proof Package Verifier
- âœ… 6 neue CLI-Commands (proof build/verify/export, verifier run/extract/audit)
- âœ… Base64-Serialisierung fÃ¼r proof.dat
- âœ… Proof-Paket-Export mit README

**Kryptographische Erweiterungen:**
- âœ… SHA3-256 Manifest-Hashing
- âœ… Constraint-basierte Proof-Verifikation
- âœ… Multi-Hash-Verifikation (Manifest + Policy)

**Test-Abdeckung:**
- âœ… 26 Unit-Tests (6 neue fÃ¼r Tag 3)
- âœ… 10 Integrations-Tests (End-to-End-Pipeline)
- âœ… 0 Clippy-Warnings

**Artefakte:**
- âœ… Offline-verifizierbares Proof-Paket
- âœ… Reproduzierbare Hashes
- âœ… Auditor-Ready-Dokumentation (README.txt)

---

**Status:** Tag 3 MVP Complete âœ…
**NÃ¤chster Schritt:** Tag 4 â€“ ZK-Integration (Halo2, Spartan, Nova, RISC0)

---

Â© 2025 Confidential Assurance Protocol â€“ Core Engineering
